{"version":3,"sources":["component/cart/order/order.jsx","axios/storeaxios.js","axios/axios.js","store/action/homeAction.js","component/comm/Header/Header.js","store/action/cartAction.js"],"names":["h","useHistory","dispatch","useDispatch","goods","useSelector","store","cart","goodsList","coupons","couponList","couponPrice","filter","el","selected","originPrice","map","goods_price","cart_num","Number","toFixed","useEffect","getCouponMsgAction","className","back","title","res","idx","push","src","goods_img","alt","goods_name","is_breaks","goods_color","goods_type","goods_old_price","renderGoodsList","onClick","some","is_over_time","coupon_type","Modal","alert","text","onPress","instance","axios","create","baseURL","interceptors","request","use","config","error","Promise","reject","response","data","getListTit","get","catch","err","console","log","getNavTit","getGoodsData","getCartMsg","params","url","method","getCouponMsg","getSwiperData","getCenterData","getPurchaseData","getGroupShopData","getInformationsData","getSearchData","getbalance","geticon","geticons","getuser","getorder","homeInitSwiperDataAction","HOME_ADD_ACTION","a","type","HOME_INIT_SWIPER_DATA","payload","swiperData","homeInitCenterDataAction","HOME_INIT_CENTER_DATA","homeInitPurchaseDataAction","HOME_INIT_PURCHASE_DATA","homeInitGroupShopDataAction","HOME_INIT_GROUPSHOP_DATA","homeInitInformationDataAction","HOME_INIT_INFORMATION_DATA","homeInitSearchDataAction","HOME_INIT_SEARCH_DATA","props","go","getCartMsgAction","then","CART_GET_MSG","changeSelectAction","CART_CHANGE_SELECT","allSelectAction","CART_ALL_SELECT","addGoodsAction","CART_ADD_GOODS","subGoodsAction","CART_SUB_GOODS","changeManageSelectAction","CART_MANAGE_CHANGE_SELECT","manageAllSelectAction","CART_MANAGE_ALL_SELECT","delGoodsAction","CART_DEL_GOODS","CART_COUPON_MSG","touchUseCouponAction","CART_USE_COUPON"],"mappings":"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","file":"static/js/9.6f212369.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n//填写订单\r\nimport React from \"react\";\r\nimport \"./order.scss\";\r\nimport \"./orderIcon.css\";\r\nimport Header from \"../../comm/Header/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { getCouponMsgAction } from \"../../../store/action\";\r\nimport { Modal } from \"antd-mobile\";\r\n\r\nexport default function () {\r\n  let h = useHistory();\r\n  let dispatch = useDispatch();\r\n  let goods = useSelector((store) => store.cart.goodsList);\r\n  let coupons = useSelector((store) => store.cart.couponList);\r\n  let { couponPrice } = useSelector((store) => store.cart);\r\n  goods = goods.filter((el) => {\r\n    return el.selected === true;\r\n  });\r\n\r\n  //未使用优惠券之前的价格\r\n  let originPrice = 0;\r\n  goods.map((el) => {\r\n    originPrice += el.goods_price * el.cart_num;\r\n  });\r\n  originPrice = Number(originPrice).toFixed(2);\r\n\r\n  //初始化请求优惠券信息\r\n  useEffect(() => {\r\n    dispatch(getCouponMsgAction(\"001\"));\r\n    return undefined;\r\n  }, []);\r\n\r\n  //判断是否有可用的优惠券\r\n  function judgeUsefulCoupon() {\r\n    if (\r\n      coupons.some((el) => {\r\n        return el.is_over_time === \"no\" && el.coupon_type === \"无门槛\";\r\n      })\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //点击支付\r\n  function handlePay() {\r\n    Modal.alert(\"支付\", \"确定要购买吗？\", [\r\n      {\r\n        text: \"放弃支付\",\r\n        onPress: () => {\r\n          h.push(\"/cart/paystatus/fail\");\r\n        },\r\n      },\r\n      {\r\n        text: \"确认支付\",\r\n        onPress: () => {\r\n          h.push(\"/cart/paystatus/success\");\r\n        },\r\n      },\r\n    ]);\r\n  }\r\n\r\n  function renderGoodsList() {\r\n    let res = [];\r\n    // eslint-disable-next-line array-callback-return\r\n    goods.map((el, idx) => {\r\n      res.push(\r\n        <div className=\"goods-item\" key={idx}>\r\n          <img src={el.goods_img} alt=\"\" />\r\n          <div className=\"goods-msg\">\r\n            <div className=\"goods-name\">\r\n              {`${el.goods_name}(${el.is_breaks})`}\r\n            </div>\r\n            <div className=\"goods-type\">\r\n              {`颜色：${el.goods_color}；类型：${el.goods_type}`}\r\n            </div>\r\n            <div className=\"goods-bottom\">\r\n              <div className=\"goods-price\">\r\n                <span>{\"￥\" + el.goods_price}</span>\r\n                <span>{\"￥\" + el.goods_old_price}</span>\r\n                {` x${el.cart_num}`}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"order\">\r\n      <Header back title=\"填写订单\" />\r\n      <div className=\"user-msg\">\r\n        <i className=\"iconfont icon-didian\"></i>\r\n        <div className=\"user-main-msg\">\r\n          <div className=\"user-name-phone\">木子 13688991010</div>\r\n          <div className=\"user-address\">北京市海淀区李子村北三胡同</div>\r\n        </div>\r\n        <i className=\"iconfont icon-right\"></i>\r\n      </div>\r\n      <div className=\"order-goods\">{renderGoodsList()}</div>\r\n      <div className=\"order-fare\">\r\n        <div className=\"total-fare\">\r\n          <span>商品总价</span>\r\n          <span>{\"￥\" + originPrice}</span>\r\n        </div>\r\n        <div className=\"coupons\">\r\n          <span>优惠券</span>\r\n          <span\r\n            onClick={() => {\r\n              h.push(\"/cart/coupon\");\r\n            }}\r\n          >\r\n            {couponPrice > 0\r\n              ? `-￥${Number(couponPrice).toFixed(2)}`\r\n              : judgeUsefulCoupon()\r\n              ? \"发现可用的优惠券\"\r\n              : \"暂时没有优惠券噢\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"courier-fare\">\r\n          <span>运费（快递）</span>\r\n          <span>{\"￥0.00\"}</span>\r\n        </div>\r\n        <div className=\"courier-protect\">\r\n          <span>运费险</span>\r\n          <span>{\"￥0.00\"}</span>\r\n        </div>\r\n        <div className=\"final-fare\">\r\n          ￥{Number(originPrice - couponPrice).toFixed(2)}\r\n        </div>\r\n      </div>\r\n      <div className=\"order-pay\">\r\n        <div className=\"fare-need-pay\">\r\n          <span>付款</span>\r\n          <span>￥{Number(originPrice - couponPrice).toFixed(2)}</span>\r\n        </div>\r\n        <div\r\n          className=\"pay-fare\"\r\n          onClick={() => {\r\n            handlePay();\r\n          }}\r\n        >\r\n          去支付\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* 1. 引入axios */\r\nimport axios from \"axios\";\r\nlet BASE_URL = \"http://rap2api.taobao.org/app/mock/278826/\";\r\n/* 1. 配置公共url */\r\nlet instance = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n/* \r\n2. 配置拦截器\r\nvue => 导航守卫 => 路由变化\r\naxios => 拦截器概念 => 请求前和请求后处理\r\n*/\r\ninstance.interceptors.request.use(\r\n  function (config) {\r\n    /* \r\n      todo   1. 添加请求头，token\r\n    */\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\ninstance.interceptors.response.use(\r\n  function (response) {\r\n    return response.data;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\nexport default instance;\r\n","import axios from \"./storeaxios.js\";\r\n\r\n// export const getXXX = () => {\r\n//   return axios.get(\"xxx\").catch((err) => {\r\n//     console.log(err);\r\n//   });\r\n// };\r\n//获取商城左侧标题数据\r\nexport const getListTit = () => {\r\n  return axios.get(\"/Category/getList\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\n\r\n//获取商城右侧标题数据\r\nexport const getNavTit = () => {\r\n  return axios.get(\"/Category/getNav\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\n\r\n//获取商品数据\r\nexport const getGoodsData = () => {\r\n  return axios.get(\"/Category/getGoodsData\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\n\r\n//获取购物车数据\r\nexport const getCartMsg = (params) => {\r\n  return axios({\r\n    url: \"cart/getCartMsg\",\r\n    method: \"GET\",\r\n    params,\r\n  });\r\n};\r\n\r\nexport function getCouponMsg(params) {\r\n  return axios({\r\n    url: \"cart/getCouponsMsg\",\r\n    method: \"GET\",\r\n    params,\r\n  });\r\n}\r\n\r\n/* 获取首页轮播图数据 */\r\nexport const getSwiperData = () => {\r\n  return axios.get(\"home/swiperdata\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\nexport const getCenterData = () => {\r\n  return axios.get(\"home/centerdata\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\nexport const getPurchaseData = () => {\r\n  return axios.get(\"home/purchase\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\nexport const getGroupShopData = () => {\r\n  return axios.get(\"home/packcluster\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\nexport const getInformationsData = () => {\r\n  return axios.get(\"home/informationdata\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\nexport const getSearchData = () => {\r\n  return axios.get(\"home/search\").catch((err) => {\r\n    console.log(err);\r\n  });\r\n};\r\n\r\n//我的\r\nexport const getbalance = () => {\r\n  return axios.get(\"My/getbalance\").catch((err) => console.log(err));\r\n};\r\n\r\nexport const geticon = () => {\r\n  return axios.get(\"My/geticon\").catch((err) => console.log(err));\r\n};\r\n\r\nexport const geticons = () => {\r\n  return axios.get(\"My/getsecondicon\").catch((err) => console.log(err));\r\n};\r\nexport const getuser = () => {\r\n  return axios.get(\"My/getuser\").catch((err) => console.log(err));\r\n};\r\nexport const getorder = () => {\r\n  return axios.get(\"Myorder/getorder\").catch((err) => console.log(err));\r\n};\r\n","// @ts-nocheck\r\nimport { HOME_ADD_ACTION,HOME_INIT_SWIPER_DATA,HOME_INIT_CENTER_DATA,HOME_INIT_PURCHASE_DATA,HOME_INIT_GROUPSHOP_DATA,HOME_INIT_INFORMATION_DATA,HOME_INIT_SEARCH_DATA} from \"../actionTypes\"\r\nimport { getSwiperData , getCenterData,getPurchaseData,getGroupShopData,getInformationsData,getSearchData} from \"../../axios/axios\"\r\nexport const homeAddAction = {\r\n    type:HOME_ADD_ACTION,\r\n    payload:{\r\n        data:[]\r\n    }\r\n}\r\nexport const homeInitSwiperDataAction = (params)=>{\r\n    return async (dispatch)=>{\r\n        let res = await getSwiperData();\r\n        dispatch({\r\n            type:HOME_INIT_SWIPER_DATA,\r\n            payload:{\r\n                swiperData:res.data\r\n            }\r\n        })\r\n    }\r\n}\r\nexport const homeInitCenterDataAction = (params)=>{\r\n    return async (dispatch)=>{\r\n        let res = await getCenterData();\r\n        dispatch({\r\n            type:HOME_INIT_CENTER_DATA,\r\n            payload:res.data\r\n    })\r\n}}\r\nexport const homeInitPurchaseDataAction = (params)=>{\r\n   \r\n    return async (dispatch)=>{\r\n        let res = await getPurchaseData();\r\n        \r\n        dispatch({\r\n            type:HOME_INIT_PURCHASE_DATA,\r\n            payload:res.data\r\n    })\r\n}}\r\n\r\nexport const homeInitGroupShopDataAction = (params)=>{\r\n   \r\n    return async (dispatch)=>{\r\n        let res = await getGroupShopData();\r\n        \r\n        dispatch({\r\n            type:HOME_INIT_GROUPSHOP_DATA,\r\n            payload:res.data\r\n    })\r\n}}\r\n\r\nexport const homeInitInformationDataAction = (params)=>{\r\n   \r\n    return async (dispatch)=>{\r\n        let res = await getInformationsData();\r\n        \r\n        dispatch({\r\n            type:HOME_INIT_INFORMATION_DATA,\r\n            payload:res.data\r\n    })\r\n}}\r\n\r\nexport const homeInitSearchDataAction = (params)=>{\r\n   \r\n    return async (dispatch)=>{\r\n        let res = await getSearchData();\r\n        \r\n        dispatch({\r\n            type:HOME_INIT_SEARCH_DATA,\r\n            payload:res.data\r\n    })\r\n}}","import React from 'react'\r\nimport './header.css'\r\nimport './headerIcon.css'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport default (props)=> {\r\n  let h = useHistory()\r\n  return (\r\n    <div className='header'>\r\n      {\r\n        props.back ? <i className='iconfont icon-fanhui' onClick={()=>{h.go(-1)}}></i> : ''\r\n      }\r\n      <h2>{props.title}</h2>\r\n      {\r\n        props.title === '购物车' ? <span onClick={()=>{h.push('/cart/manage')}}>管理</span> : ''\r\n      }\r\n    </div>\r\n  )\r\n}","import { getCartMsg, getCouponMsg } from '../../axios/axios'\r\nimport {\r\n  CART_ADD_GOODS,\r\n  CART_ALL_SELECT,\r\n  CART_CHANGE_SELECT,\r\n  CART_COUPON_MSG,\r\n  CART_DEL_GOODS,\r\n  CART_GET_MSG,\r\n  CART_MANAGE_ALL_SELECT,\r\n  CART_MANAGE_CHANGE_SELECT,\r\n  CART_SUB_GOODS,\r\n  CART_USE_COUPON\r\n} from '../actionTypes'\r\n\r\nexport function getCartMsgAction(payload) {\r\n  return (dispatch)=> {\r\n    getCartMsg(payload).then(res=>{\r\n      if(res) {\r\n        dispatch({\r\n          type: CART_GET_MSG,\r\n          payload: res.data\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function changeSelectAction(payload) {\r\n  return {\r\n    type: CART_CHANGE_SELECT,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function allSelectAction(payload) {\r\n  return {\r\n    type: CART_ALL_SELECT,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function addGoodsAction(payload) {\r\n  return {\r\n    type: CART_ADD_GOODS,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function subGoodsAction(payload) {\r\n  return {\r\n    type: CART_SUB_GOODS,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function changeManageSelectAction(payload) {\r\n  return {\r\n    type: CART_MANAGE_CHANGE_SELECT,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function manageAllSelectAction(payload) {\r\n  return {\r\n    type: CART_MANAGE_ALL_SELECT,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function delGoodsAction(payload) {\r\n  return {\r\n    type: CART_DEL_GOODS,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function getCouponMsgAction(params) {\r\n  return (dispatch)=>{\r\n    getCouponMsg(params).then(res=>{\r\n      if(res){\r\n        dispatch({\r\n          type: CART_COUPON_MSG,\r\n          payload: res.data\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function touchUseCouponAction(payload) {\r\n  return {\r\n    type: CART_USE_COUPON,\r\n    payload\r\n  }\r\n}"],"sourceRoot":""}